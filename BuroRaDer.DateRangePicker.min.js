(function(d){window.BuroRaDer=window.BuroRaDer||{};window.BuroRaDer.DateRangePicker={_attachDatepicker:function(a,b){var c=d(a).data("date-range-end")||d(a).data("date-range-start");c&&(b=d.extend({},window.BuroRaDer.DateRangePickerSettings,b||{}));Object.getPrototypeOf(this)._attachDatepicker.call(this,a,b);c&&(c=this._getInst(a),c.orgMinDate=this._get(c,"minDate"))},_newInst:function(a,b){var c=Object.getPrototypeOf(this)._newInst.call(this,a,b);if(d(a).data("date-range-end")||d(a).data("date-range-start"))c.rangeStart=
null,c.rangeEnd=null,d(a).data("date-range-end")?(c.inputStart=a,c.inputEnd=d(d(a).data("date-range-end"))[0]):(c.inputEnd=a,c.inputStart=d(d(a).data("date-range-start"))[0]);return c},compareDates:function(a,b){return a.getUTCFullYear()<b.getUTCFullYear()?-1:a.getUTCFullYear()>b.getUTCFullYear()?1:a.getUTCMonth()<b.getUTCMonth()?-1:a.getUTCMonth()>b.getUTCMonth()?1:a.getUTCDate()<b.getUTCDate()?-1:a.getUTCDate()>b.getUTCDate()?1:0},isDateRangePicker:function(a){return(a=a instanceof Element?this._getInst(a):
a instanceof jQuery?this._getInst(a[0]):"string"===typeof a?this._getInst(d(a)[0]):a)&&void 0!==a.inputStart&&void 0!==a.inputEnd?a:null},_updateDatepicker:function(a){Object.getPrototypeOf(this)._updateDatepicker.call(this,a);a=this.isDateRangePicker(a);if(null!==a){var b=d('<button type="button" class="ui-state-default ui-priority-primary ui-corner-all" data-handler="reset" data-event="click">'+this._get(a,"clearText")+"</button>"),c=d('<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+
this._get(a,"doneText")+"</button>");c.click(function(){d.datepicker._hideDatepicker()});b.click(function(){d.datepicker._clearDate(a.input)});this._get(a,"showSplitDay")?a.dpDiv.removeClass("date-range-full-day").addClass("date-range-split-day"):a.dpDiv.removeClass("date-range-split-day").addClass("date-range-full-day");this._get(a,"isTo1")?a.dpDiv.removeClass("date-range-is-to").addClass("date-range-is-to1"):a.dpDiv.removeClass("date-range-is-to1").addClass("date-range-is-to");a.dpDiv.append(b,
c)}},_clearDate:function(a){var b=this.isDateRangePicker(a);null!==b&&(b.currentDay=null,b.selectedMonth=null,b.selectedYear=null,this.selectStartDate(b,""),this.selectEndDate(b,""));Object.getPrototypeOf(this)._clearDate.call(this,a);this._updateDatepicker(b)},_setDateFromField:function(a,b){Object.getPrototypeOf(this)._setDateFromField.call(this,a,b);a=this.isDateRangePicker(a);null!==a&&(this.selectStartDate(a,d(a.inputStart).val()),this.selectEndDate(a,d(a.inputEnd).val()))},set1Date:function(a,
b,c){var e=this._get(a,"dateFormat"),f=this._getFormatConfig(a),g;try{(g=this.parseDate(e,c,f))||(g=null)}catch(k){g=null}var f=d(a["input"+b]),h=f.val();a["range"+b]=g;f.val(c);"Start"===b&&(g?(b=new Date(g),b.setDate(b.getDate()+this._get(a,"minRangeDuration")),a.settings.minDate=d.datepicker.formatDate(e,b)):a.settings.minDate=a.orgMinDate);c!==h&&f.change()},selectStartDate:function(a,b){this.set1Date(a,"Start",b)},selectEndDate:function(a,b){this.set1Date(a,"End",b)},_selectDate:function(a,b){var c=
this.isDateRangePicker(a);if(null!==c){if(b=null!==b?b:this._formatDate(c)){null===c.rangeStart?this.selectStartDate(c,b):this.selectEndDate(c,b);this._updateAlternate(c);var d=this._get(c,"onSelect");d&&d.apply(c.input?c.input[0]:null,[b,c]);this._updateDatepicker(c);c.inline||null===c.rangeStart||null===c.rangeEnd||c.hiddenOnce||(c.hiddenOnce=!0,this._hideDatepicker())}}else Object.getPrototypeOf(this)._selectDate.call(this,a,b)},beforeShowDay:function(a){var b="";if(this){var c=d.datepicker,e=
c.isDateRangePicker(this);if(null!==e&&null!==e.rangeStart)if(null!==e.rangeEnd){var f=c.compareDates(a,e.rangeStart);0<f?(a=c.compareDates(a,e.rangeEnd),0>a?b="date-range-in":0===a&&(b="date-range-end")):0===f&&(b="date-range-start")}else b=0===c.compareDates(a,e.rangeStart)?"date-range-start":""}return[!0,b]}};window.BuroRaDer.DateRangePickerSettings={numberOfMonths:2,minRangeDuration:0,isTo1:!1,showSplitDay:!1,beforeShowDay:window.BuroRaDer.DateRangePicker.beforeShowDay,doneText:"Done",clearText:"Clear selected date(s)"};
d.extend(d.datepicker,window.BuroRaDer.DateRangePicker)})(jQuery);